<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geeze Bingo - Real-time Bingo Game</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="assets/icons/favicon.ico">
    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js"></script>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="logo">
                <h1>ðŸŽ¯ Geeze Bingo</h1>
            </div>
            <div class="user-info">
                <span id="username">Guest</span>
                <div class="wallet">
                    <span>ðŸ’°</span>
                    <span id="balance">0</span>
                </div>
            </div>
        </header>

        <!-- Main Game Area -->
        <main class="game-container">
            <!-- Game Status Panel -->
            <div class="status-panel">
                <div class="game-state" id="gameState">
                    <span class="state-indicator"></span>
                    <span id="stateText">Waiting for game...</span>
                </div>
                <div class="countdown" id="countdown">
                    <div class="countdown-timer">30</div>
                    <div class="countdown-label">Card Selection</div>
                </div>
                <div class="stats">
                    <div class="stat">
                        <span class="stat-label">Players</span>
                        <span class="stat-value" id="playerCount">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Cards</span>
                        <span class="stat-value" id="cardCount">0/400</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">Numbers</span>
                        <span class="stat-value" id="numberCount">0</span>
                    </div>
                </div>
            </div>

            <!-- Card Selection View -->
            <div class="card-selection-view" id="cardSelectionView">
                <h2>Select Your Cards (Max 4)</h2>
                <div class="selection-info">
                    <p>Time left: <span id="selectionTime">30</span> seconds</p>
                    <p>Selected: <span id="selectedCount">0</span>/4 cards</p>
                </div>
                <div class="card-grid-selector" id="cardGridSelector">
                    <!-- 400 cards will be loaded here -->
                </div>
                <div class="selection-actions">
                    <button class="btn btn-primary" onclick="confirmSelection()">
                        Confirm Selection
                    </button>
                    <button class="btn btn-secondary" onclick="autoSelectCards()">
                        Auto Select (4 Cards)
                    </button>
                </div>
            </div>

            <!-- Game Play View -->
            <div class="game-play-view" id="gamePlayView" style="display: none;">
                <div class="game-board">
                    <div class="drawn-numbers" id="drawnNumbers">
                        <!-- Drawn numbers will appear here -->
                    </div>
                    <div class="player-cards" id="playerCards">
                        <!-- Player's selected cards will appear here -->
                    </div>
                </div>
                
                <div class="game-controls">
                    <button class="btn btn-bingo" onclick="claimBingo()">
                        ðŸŽ‰ CLAIM BINGO!
                    </button>
                    <button class="btn btn-secondary" onclick="viewCardGrid()">
                        View All Cards
                    </button>
                </div>
            </div>

            <!-- Winner Announcement -->
            <div class="winner-announcement" id="winnerAnnouncement" style="display: none;">
                <div class="celebration">
                    <div class="confetti"></div>
                    <h2>ðŸŽ‰ BINGO! ðŸŽ‰</h2>
                    <p id="winnerMessage">Someone won the game!</p>
                    <p class="next-game">Next game starts in <span id="nextGameCountdown">10</span> seconds</p>
                </div>
            </div>
        </main>

        <!-- Sidebar for Numbers Grid -->
        <aside class="sidebar">
            <div class="number-grid">
                <h3>BINGO Numbers</h3>
                <div class="bingo-header">
                    <div class="bingo-letter">B</div>
                    <div class="bingo-letter">I</div>
                    <div class="bingo-letter">N</div>
                    <div class="bingo-letter">G</div>
                    <div class="bingo-letter">O</div>
                </div>
                <div class="numbers-container" id="numbersGrid">
                    <!-- Numbers 1-75 will be generated here -->
                </div>
            </div>
            
            <div class="recent-numbers">
                <h3>Recent Numbers</h3>
                <div class="recent-list" id="recentNumbers">
                    <!-- Recent numbers will appear here -->
                </div>
            </div>
        </aside>

        <!-- Card Grid Modal -->
        <div class="modal" id="cardGridModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>All Cards (1-400)</h2>
                    <button class="close-modal" onclick="closeModal()">Ã—</button>
                </div>
                <div class="modal-body">
                    <div class="full-card-grid" id="fullCardGrid">
                        <!-- Full grid of 400 cards -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Bingo Claim Modal -->
        <div class="modal" id="bingoClaimModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Claim Bingo</h2>
                    <button class="close-modal" onclick="closeBingoModal()">Ã—</button>
                </div>
                <div class="modal-body">
                    <div class="bingo-patterns">
                        <h3>Select Winning Pattern:</h3>
                        <div class="pattern-grid">
                            <div class="pattern" data-pattern="line_0" onclick="selectPattern('line_0')">
                                <div class="pattern-preview">Top Line</div>
                            </div>
                            <div class="pattern" data-pattern="line_1" onclick="selectPattern('line_1')">
                                <div class="pattern-preview">Second Line</div>
                            </div>
                            <div class="pattern" data-pattern="full" onclick="selectPattern('full')">
                                <div class="pattern-preview">Full House</div>
                            </div>
                            <div class="pattern" data-pattern="corners" onclick="selectPattern('corners')">
                                <div class="pattern-preview">Four Corners</div>
                            </div>
                        </div>
                    </div>
                    <div class="selected-card-info">
                        <h3>Selected Card: <span id="selectedCardId">-</span></h3>
                        <div class="card-preview" id="claimCardPreview">
                            <!-- Selected card preview -->
                        </div>
                    </div>
                    <button class="btn btn-bingo btn-block" onclick="submitBingoClaim()">
                        Submit Bingo Claim
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/telegram.js"></script>
    <script src="js/socket.js"></script>
    <script src="js/game.js"></script>
    <script src="js/wallet.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
